<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>sahumerios</title>
        <link rel="stylesheet" href="cssCatalogo.css">
    </head>
    <body>

    <div class="page">

    <div class="product-wrapper">

    <!-- IMAGEN -->
    <div class="product-left">
        <div class="product-img">
        
        </div>
    </div>


    <!-- INFO -->
    <div class="product-right">

      <h1 class="title">sahumerios</h1>
      <p class="note">aroma: manzana </p>
      <p class="price">$4.792,00</p>
      
        <button class="btn-add" id="btnAgregar" >Agregar</button>
      
    <div id="popup" class="popup">
        <div class="popup-content">
            <p>Su producto ha sido guardado en el carrito</p>
            <button id="closePopup" class="close-btn">Cerrar</button>
        </div>
    </div>
    

  </div>
</div>


<script>
document.addEventListener("DOMContentLoaded", () => {
    const btnAgregar = document.getElementById("btnAgregar");
    const popup = document.getElementById("popup");
    const closePopup = document.getElementById("closePopup");

    const product = {
        id: "sahumerios-manzana-1",
        title: "sahumerios",
        aroma: "manzana",
        price: 4792, // valor numérico para cálculos
        priceText: "$4.792,00",
        image: "" // poner ruta si hay imagen
    };

    const getCart = () => JSON.parse(localStorage.getItem('cart') || '[]');
    const saveCart = (cart) => localStorage.setItem('cart', JSON.stringify(cart));

    btnAgregar.addEventListener("click", () => {
        // agregar/actualizar cantidad en el carrito
        const cart = getCart();
        const existing = cart.find(item => item.id === product.id);
        if (existing) {
            existing.quantity = (existing.quantity || 1) + 1;
        } else {
            cart.push({...product, quantity: 1});
        }
        saveCart(cart);

        // mostrar popup
        popup.style.display = "flex";
    });

    closePopup.addEventListener("click", () => {
        popup.style.display = "none";
    });
});
</script>


</body>
</html>
